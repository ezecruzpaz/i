<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Descarga de Archivos con Express.js</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

    <nav class="navbar navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/index.html">Informe de express.js</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
                aria-labelledby="offcanvasDarkNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Temas</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/Entorno_Configuracion/index.html">Entorno y Configuracion</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Hosting/index.html">Hosting</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Correo/CorreoInfo.html">Envio de Correo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/PDF/pdf.html">Crear PDF</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Descarga_Archivos/index.html">Descarga de Achivos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Encriptacion/index.html">Encriptacion</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Menus/indeex.html">Menus</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Almacen_Imagenes/index.html">Imagenes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Debug</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Parametos/index.html">Parametos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/Responsividad/index.html">Resposividad</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Jquery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Sweet</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Crud</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Publicacion</a>
                        </li>
                        
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                Navegadores
                            </a>
                            <ul class="dropdown-menu dropdown-menu-dark">
                                <li><a class="dropdown-item" href="/Navegadores/indexWeb.html">Web</a></li>
                                <li><a class="dropdown-item" href="/Navegadores/indexMov.html">Moviles</a></li>
                               
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Manejo de Exepciones</a>
                        </li>
                    </ul>
                    
                </div>
            </div>
        </div>
    </nav>

<div class="container mt-5">
    <h1 class="mb-4">Descarga de Archivos con Express.js</h1>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Permitir la Descarga de Archivos desde el Servidor en Express.js</h5>
            <p>
                Para permitir la descarga de archivos desde el servidor en Express.js, puedes utilizar el método <code>res.download()</code>. Aquí tienes una guía paso a paso:
            </p>

            <h6 class="mt-4">1. Crea una ruta en tu servidor Express para la descarga:</h6>
            <pre class="bg-light p-3">
                <code class="language-javascript">
                    const express = require('express');
                    const app = express();
                    const path = require('path');

                    // Ruta para descargar un archivo
                    app.get('/descargar/:nombreArchivo', (req, res) => {
                        const nombreArchivo = req.params.nombreArchivo;
                        const rutaArchivo = path.join(__dirname, 'archivos', nombreArchivo);

                        // Usa res.download() para enviar el archivo al cliente
                        res.download(rutaArchivo, (err) => {
                            if (err) {
                                // Manejar errores, por ejemplo, si el archivo no existe
                                res.status(404).send('Archivo no encontrado');
                            }
                        });
                    });

                    const PORT = process.env.PORT || 3000;
                    app.listen(PORT, () => {
                        console.log(`Servidor Express en el puerto ${PORT}`);
                    });
                </code>
            </pre>

            <h6 class="mt-4">2. Crea un enlace o botón en tu interfaz de usuario para activar la descarga:</h6>
            <xmp>
                <!-- Ejemplo en HTML -->
                <a href="/descargar/miarchivo.txt" target="_blank">Descargar Archivo</a>
            </xmp>
            <h6 class="mt-4">3. Asegúrate de tener el archivo en la ruta correcta:</h6>
            <p>
                Asegúrate de que los archivos que deseas descargar estén en la carpeta correcta del servidor. En el ejemplo anterior, se asume que los archivos están en una carpeta llamada "archivos" en el mismo directorio que tu script de servidor.
            </p>

            <h6 class="mt-4">4. Ejecuta tu aplicación:</h6>
            <p>
                Ejecuta tu aplicación Express.js y navega a la URL que contiene el enlace para descargar el archivo.
            </p>

            <p class="small text-muted">
                Estos pasos te permitirán configurar la descarga de archivos desde el servidor usando Express.js. Ajusta el código según tus necesidades y asegúrate de gestionar los errores de manera adecuada.
            </p>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
